/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package GUI;
import javax.swing.JOptionPane;
import javax.sound.sampled.*;
import java.io.File;
import java.io.IOException;
import javax.swing.ImageIcon;
import javax.swing.JPanel;


/**
 *
 * @author Carlos Lopez
 */
public class MainMenu extends javax.swing.JFrame {

    
    
   
    Game4x4 game4x4 = new Game4x4();
    Game6x6 game6x6 = new Game6x6();
    Game8x8 game8x8 = new Game8x8();
    private Clip clip;
    private long clippos;
    int opc = 0;
    int num = 0;
    ImageIcon sound = new ImageIcon("C:\\Users\\USUARIO\\Documents\\NetBeansProjects\\Programacion II\\tareas\\Proyecto final\\JuegoDeMemoria\\src\\resources\\sonidoIcon.png");
    ImageIcon mute = new ImageIcon("C:\\Users\\USUARIO\\Documents\\NetBeansProjects\\Programacion II\\tareas\\Proyecto final\\JuegoDeMemoria\\src\\resources\\muteIcon.png");
    ImageIcon icon = new ImageIcon("C:\\Users\\USUARIO\\Documents\\NetBeansProjects\\Programacion II\\tareas\\Proyecto final\\JuegoDeMemoria\\src\\resources\\mushroom mario.png");
    String filepath = "C:\\Users\\USUARIO\\Documents\\NetBeansProjects\\Programacion II\\tareas\\Proyecto final\\JuegoDeMemoria\\src\\resources\\Super Bell Hill - Super Mario 3D World.wav";

    /**
     * Creates new form MainMenu
     */
    public MainMenu() {
        initComponents();
      
        this.setLocationRelativeTo(null);
        this.setIconImage(icon.getImage());
        PlayMusic(filepath);
       
        
        
         jbtnAbandonar.setVisible(false);
         JPmenu.setVisible(true);
         
       
        
    }
    
    
    
    public void PlayMusic(String location){
        try{
            File musicPath = new File(location);
            
            if(musicPath.exists()){
                AudioInputStream audioInput = AudioSystem.getAudioInputStream(musicPath);
                clip = AudioSystem.getClip();
                clip.open(audioInput);
                clip.loop(clip.LOOP_CONTINUOUSLY);
                clip.start();
                
                
                
                
            }else{
                JOptionPane.showMessageDialog(this, "cant find music file");
            }
            
            
            
            
            
        }catch(Exception e){
            JOptionPane.showMessageDialog(this, e.getStackTrace()); 
        }
    }
    
    public void stopMusic() {
        
        if (clip != null && clip.isRunning()) {
            clippos = clip.getMicrosecondPosition();
            clip.stop();
        }
    }
    
    public void resumeMusic() {
        if (clip != null && !clip.isRunning()) {
         
            clip.setMicrosecondPosition(clippos);
            clip.start();
        }
    }
    
    
    public int options(){
        
        return num;
    }
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        JPContenedor = new javax.swing.JPanel();
        JPmenu = new javax.swing.JPanel();
        jLTitle = new javax.swing.JLabel();
        jBtn4x4 = new javax.swing.JButton();
        jBtn6x6 = new javax.swing.JButton();
        jBtn8x8 = new javax.swing.JButton();
        jbtnexit = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        jbtnAbandonar = new javax.swing.JButton();
        jbtnMusic = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Memory Game");
        setMaximumSize(new java.awt.Dimension(570, 685));
        setMinimumSize(new java.awt.Dimension(570, 685));
        setResizable(false);

        JPContenedor.setLayout(new java.awt.BorderLayout());

        JPmenu.setBackground(new java.awt.Color(255, 0, 51));
        JPmenu.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        JPmenu.setPreferredSize(new java.awt.Dimension(570, 650));

        jLTitle.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/MarioTitle.png"))); // NOI18N

        jBtn4x4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/4x4-1.png"))); // NOI18N
        jBtn4x4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtn4x4ActionPerformed(evt);
            }
        });

        jBtn6x6.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/6x6-1.png"))); // NOI18N
        jBtn6x6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtn6x6ActionPerformed(evt);
            }
        });

        jBtn8x8.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/8x8-1.png"))); // NOI18N
        jBtn8x8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtn8x8ActionPerformed(evt);
            }
        });

        jbtnexit.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/exit.png"))); // NOI18N
        jbtnexit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jbtnexitActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout JPmenuLayout = new javax.swing.GroupLayout(JPmenu);
        JPmenu.setLayout(JPmenuLayout);
        JPmenuLayout.setHorizontalGroup(
            JPmenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(JPmenuLayout.createSequentialGroup()
                .addGroup(JPmenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(JPmenuLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLTitle))
                    .addGroup(JPmenuLayout.createSequentialGroup()
                        .addGap(233, 233, 233)
                        .addGroup(JPmenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jBtn6x6, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jBtn4x4, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jBtn8x8, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jbtnexit, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(21, Short.MAX_VALUE))
        );
        JPmenuLayout.setVerticalGroup(
            JPmenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(JPmenuLayout.createSequentialGroup()
                .addGap(47, 47, 47)
                .addComponent(jLTitle)
                .addGap(82, 82, 82)
                .addComponent(jBtn4x4, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(28, 28, 28)
                .addComponent(jBtn6x6, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(33, 33, 33)
                .addComponent(jBtn8x8, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(33, 33, 33)
                .addComponent(jbtnexit, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(189, Short.MAX_VALUE))
        );

        JPContenedor.add(JPmenu, java.awt.BorderLayout.CENTER);
        JPmenu.getAccessibleContext().setAccessibleName("");

        jPanel1.setBackground(new java.awt.Color(255, 0, 51));
        jPanel1.setPreferredSize(new java.awt.Dimension(570, 35));

        jbtnAbandonar.setBackground(new java.awt.Color(204, 204, 204));
        jbtnAbandonar.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jbtnAbandonar.setForeground(new java.awt.Color(204, 204, 204));
        jbtnAbandonar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/volverAlmenu1.png"))); // NOI18N
        jbtnAbandonar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jbtnAbandonarActionPerformed(evt);
            }
        });

        jbtnMusic.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/sonidoIcon.png"))); // NOI18N
        jbtnMusic.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jbtnMusicActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(382, Short.MAX_VALUE)
                .addComponent(jbtnAbandonar)
                .addGap(18, 18, 18)
                .addComponent(jbtnMusic)
                .addGap(3, 3, 3))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jbtnMusic)
                    .addComponent(jbtnAbandonar))
                .addGap(9, 9, 9))
        );

        JPContenedor.add(jPanel1, java.awt.BorderLayout.PAGE_END);

        getContentPane().add(JPContenedor, java.awt.BorderLayout.CENTER);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jbtnexitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnexitActionPerformed
        // TODO add your handling code here:
        this.dispose();
    }//GEN-LAST:event_jbtnexitActionPerformed

    private void jBtn8x8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtn8x8ActionPerformed
        // TODO add your handling code here:
        try{
            Object[] options = {"Continuar", "Nuevo"};
            int n = JOptionPane.showOptionDialog(null,
                "Tipo de partida",
                "Seleccione una opción",
                JOptionPane.YES_NO_OPTION,
                JOptionPane.QUESTION_MESSAGE,
                null,
                options,
                options[1]);

            if (n == JOptionPane.YES_OPTION) {
                 
                this.setSize(1350,685);
                JPContenedor.add(game8x8);
                JPmenu.setVisible(false);
                jbtnAbandonar.setVisible(true);
                game8x8.setVisible(true);
                game8x8.Juegoguardado();

            } else if (n == JOptionPane.NO_OPTION) {
               
                this.setSize(1350,685);
                JPContenedor.add(game8x8);
                JPmenu.setVisible(false);
                jbtnAbandonar.setVisible(true);
                game8x8.setVisible(true);
                game8x8.reiniciar();
                game8x8.cartas();
                
            }
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(this, e.getStackTrace());
        }
    }//GEN-LAST:event_jBtn8x8ActionPerformed

    private void jBtn6x6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtn6x6ActionPerformed
        // TODO add your handling code here:
        try{
            Object[] options = {"Continuar", "Nuevo"};
            int n = JOptionPane.showOptionDialog(null,
                "Tipo de partida",
                "Seleccione una opción",
                JOptionPane.YES_NO_OPTION,
                JOptionPane.QUESTION_MESSAGE,
                null,
                options,
                options[1]);

            if (n == JOptionPane.YES_OPTION) {
            
                this.setSize(870, 685);
                JPContenedor.add(game6x6);
                JPmenu.setVisible(false);
                jbtnAbandonar.setVisible(true);
                game6x6.setVisible(true);
                game6x6.Juegoguardado();

            } else if (n == JOptionPane.NO_OPTION) {
                
                this.setSize(870, 685);
                JPContenedor.add(game6x6);
                JPmenu.setVisible(false);
                jbtnAbandonar.setVisible(true);
                game6x6.setVisible(true);
                game6x6.reiniciar();
                game6x6.cartas();
            }
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(this, e.getStackTrace());
        }
    }//GEN-LAST:event_jBtn6x6ActionPerformed

    private void jBtn4x4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtn4x4ActionPerformed
        // TODO add your handling code here:

        try{
            Object[] options = {"Continuar", "Nuevo"};
            int n = JOptionPane.showOptionDialog(null,
                "Tipo de partida",
                "Seleccione una opción",
                JOptionPane.YES_NO_OPTION,
                JOptionPane.QUESTION_MESSAGE,
                null,
                options,
                options[1]);

            if (n == JOptionPane.YES_OPTION) {
                
                JPContenedor.add(game4x4);
                JPmenu.setVisible(false);
                jbtnAbandonar.setVisible(true);
                game4x4.setVisible(true);
                game4x4.Juegoguardado();

            } else if (n == JOptionPane.NO_OPTION) {

                JPContenedor.add(game4x4);
                JPmenu.setVisible(false);
                jbtnAbandonar.setVisible(true);
                game4x4.setVisible(true);
                game4x4.reiniciar();
                game4x4.cartas();
            }
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(this, e.getStackTrace());
        }

    }//GEN-LAST:event_jBtn4x4ActionPerformed

    private void jbtnMusicActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnMusicActionPerformed
        // TODO add your handling code here:
       
        try{
        if(opc == 0){
            opc = 1;
            if(opc == 1){
            stopMusic();
            opc++;
            jbtnMusic.setIcon(mute);
            }
        }else{
            jbtnMusic.setIcon(sound);
            resumeMusic();
            opc = 0;
        }
        } catch(Exception e){
            JOptionPane.showMessageDialog(this, e.getStackTrace());
        }
        
    }//GEN-LAST:event_jbtnMusicActionPerformed

    private void jbtnAbandonarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnAbandonarActionPerformed
        // TODO add your handling code here:
        
        try{
        game4x4.setVisible(false);
        game6x6.setVisible(false);
        game8x8.setVisible(false);
        this.setSize(586, 724);
        JPmenu.setVisible(true);
       
        
        
        
        jbtnAbandonar.setVisible(false);
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(this, e.getStackTrace());
        }
        

    }//GEN-LAST:event_jbtnAbandonarActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(MainMenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(MainMenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(MainMenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(MainMenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new MainMenu().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    public javax.swing.JPanel JPContenedor;
    public javax.swing.JPanel JPmenu;
    private javax.swing.JButton jBtn4x4;
    private javax.swing.JButton jBtn6x6;
    private javax.swing.JButton jBtn8x8;
    private javax.swing.JLabel jLTitle;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JButton jbtnAbandonar;
    private javax.swing.JButton jbtnMusic;
    private javax.swing.JButton jbtnexit;
    // End of variables declaration//GEN-END:variables
}
